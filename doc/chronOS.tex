\documentclass[a4paper,11pt,onecolumn,oneside]{article}

\usepackage[english,portuges]{babel}
%\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
%\usepackage{siunitx}
\usepackage{graphicx}
%\usepackage{minted}
%\usepackage{amsmath}
%\usepackage{systeme}
\usepackage{hyperref}

\newcommand{\chronOS}{\textsf{chronOS}}
\newcommand{\git}{\textsf{git}}

\title{
	Sistemas Operativos --- Projeto\\
	\chronOS~--- \textbf{Relatório preliminar}
}

\author{
	\begin{tabular}[!h]{l l}
		39489 & Jorge Miguel Louro Pissarra\\
		41266 & Diogo Castanheira Simões\\
		41381 & Igor Cordeiro Bordalo Nunes
	\end{tabular}
}

\date{\today}

\begin{document}
	\maketitle
	
	\begin{abstract}
		\chronOS~é um programa de simulação de \textit{scheduling} de processos e gestão de memória.
		
		O presente documento é um relatório preliminar do estado do projeto à data de escrita deste.
		
		(TODO)
	\end{abstract}
	
	\tableofcontents
	%\listoffigures
	\newpage
	
	\section{Repositório no GitLab}
	\label{sec:gitlab}
	
	O projeto encontra-se alojado num servidor GitLab privado no seguinte \textit{link}: \url{https://gitlab.pcdev.pt/inunes/chronos/}
	
	O repositório \git~em causa inclui vários \textit{branches} nos quais nos encontramos a trabalhar, a saber:
	
	\begin{itemize}
		\item \texttt{master}: \textit{branch} principal para onde é feito \textit{merge} de versões finais funcionais;
		\item \texttt{dev}: \textit{branch} de desevolvimento dedicado do elemento de grupo Jorge Pissarra;
		\item \texttt{dev-in}: \textit{branch} de desevolvimento dedicado do elemento de grupo Igor Nunes (regra geral é neste \textit{branch} que se encontram as \textbf{versões compiláveis sem erros com recurso ao \texttt{Makefile}});
		\item \texttt{dev-ds}: \textit{branch} de desevolvimento dedicado do elemento de grupo Diogo Simões;
	\end{itemize}


	\section{Resumo do estado atual do projeto}
	\label{sec:summary}
	
	À data de escrita do presente relatório, o programa \chronOS~é capaz de fazer as seguintes tarefas:
	
	\begin{enumerate}
		\item Alocar células de memória;
		\item Alocar a tabela PCB;
		\item Ler o ficheiro \texttt{plan.txt} e guardar em memória o plano de execução numa \textit{queue};
		\item Temporizar o sistema de 500 em 500 milissegundos;
		\item Extrair de um ficheiro \texttt{*.prg} as suas instruções;
		\item Alocar em memória as instruções referentes a um programa recorrendo ao \textbf{algoritmo \textit{first-fit}};
		\item Ler um programa para memória ao tempo exato indicado pelo plano de execução;
		
		\item Executar as instruções em memória, incluindo o \textit{fork} (instrução \verb|C n|) e o \textit{clean} (instrução \verb|L filename|);
		
		% TODO Mais tarefas são necessárias
		
		\item Imprimir um relatório do estado atual dos processos;
		\item Libertar os recursos associados à memória;
		\item Libertar os recursos associados à tabela PCB;
		\item Libertar os recursos associados à \textit{queue} do plano de execução.
	\end{enumerate}
	
	Todas as tarefas foram testadas em modo \textit{debug} recorrendo a \textit{sanitizer flags} (descrito na secção \ref{sec:struct_makefile}) que nos permitem verificar que não existe nenhum \textit{memory leak} no final da execução do programa.
	
	
	\section{Estrutura do código e \texttt{Makefile}}
	\label{sec:struct_makefile}
	
	A pasta de desenvolvimento está estruturada com as seguintes pastas:
	
	\begin{itemize}
		\item \verb|doc|: pasta onde é escrita a documentação, incluindo este mesmo documento em \LaTeX;
		\item \verb|include|: inclui todos os \textit{header files} (ficheiros \verb|*.h|) necessários ao programa;
		\item \verb|src|: inclui todos os ficheiros \verb|*.c| com a implementação dos protótipos declarados nos \textit{header files}.
	\end{itemize}
	
	Por sua vez, o \texttt{Makefile} está construído de forma a possibilitar 2 formas de compilação:
	
	\begin{itemize}
		\item \textbf{\textit{Debug}} (\verb|make debug|): versão de desenvolvimento com mensagens de \textit{debugging} bastante detalhadas;
		
		\item \textbf{\textit{Release}} (\verb|make release|): versão final sem mensagens de \textit{debug} durante a execução do \chronOS.
	\end{itemize}

	O \texttt{Makefile} inclui uma série de \textit{flags} adicionais face ao comum a fim de controlar de forma mais apertada o comportamento do \texttt{gcc}, o qual é bastante permissivo por natureza. O modo \textit{debug} inclui \textit{sanitizer flags} que permitem detetar \textit{memory leaks} e detalhar informações acerca de falhas graves na execução relacionadas com acessos indevidos à memória (os clássicos \textit{segmentation faults}).
	
	
	\section{Ciclo principal do programa}
	\label{sec:main}
	
	
	\section{Gestão de memória}
	\label{sec:memory}
	
	
	\section{Gestão de processos}
	\label{sec:process}
	
	
\end{document}
